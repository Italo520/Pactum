<!-- templates/base/sidebar.html -->
{% load static %}
<aside id="sidebarMenu" class="w-64 bg-gradient-to-b from-neutral-800 to-neutral-900 dark:from-dark-bg-secondary dark:to-dark-bg text-white min-h-screen p-4 md:block hidden shadow-2xl">
    <!-- Logo -->
    <div class="flex items-center justify-center mb-8 mt-2">
        <a href="{% url 'dashboard:index' %}" class="flex items-center smooth-hover group">
            <div class="relative">
                <img src="{% static 'img/logo_pactum.png' %}" alt="Pactum Logo" class="h-14 w-auto transition-all duration-300 group-hover:scale-105 drop-shadow-lg">
                <div class="absolute inset-0 bg-gradient-to-r from-primary to-primary-light opacity-0 group-hover:opacity-20 rounded-full blur-xl transition-opacity duration-300"></div>
            </div>
            <span class="text-2xl font-bold ml-3 text-gradient-custom bg-gradient-to-r from-white to-gray-200 bg-clip-text text-transparent group-hover:from-primary-light group-hover:to-white transition-all duration-300">Pactum</span>
        </a>
    </div>

    <!-- Navigation -->
    <nav class="space-y-1">
        <ul class="space-y-1">
            <!-- Dashboard -->
            <li>
                <a href="{% url 'dashboard:index' %}" 
                   class="flex items-center px-4 py-3 rounded-lg transition-all duration-200 group
                          {% if 'dashboard' in request.resolver_match.url_name %}
                          bg-primary/10 text-primary-light border-l-4 border-primary shadow-lg
                          {% else %}
                          hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30 hover:shadow-md
                          {% endif %}">
                    <div class="flex items-center justify-center w-8">
                        <i class="fas fa-tachometer-alt {% if 'dashboard' in request.resolver_match.url_name %}text-primary-light{% else %}text-gray-400 group-hover:text-primary-light{% endif %} transition-colors duration-200"></i>
                    </div>
                    <span class="ml-3 font-medium">Dashboard</span>
                    {% if 'dashboard' in request.resolver_match.url_name %}
                    <div class="ml-auto">
                        <div class="w-2 h-2 bg-primary-light rounded-full animate-pulse"></div>
                    </div>
                    {% endif %}
                </a>
            </li>

            <!-- Projetos -->
            {% if user.can_manage_projects or user.is_cliente %}
            <li class="mt-6">
                <h5 class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center">
                    <span class="w-6 h-0.5 bg-gradient-to-r from-primary to-transparent mr-2"></span>
                    Projetos
                </h5>
                <ul class="space-y-1">
                    <li>
                        <a href="{% url 'projetos:projeto_list' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group
                                  {% if 'projeto' in request.resolver_match.url_name %}
                                  bg-primary/10 text-primary-light border-l-4 border-primary
                                  {% else %}
                                  hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30
                                  {% endif %}">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-list {% if 'projeto' in request.resolver_match.url_name %}text-primary-light{% else %}text-gray-400 group-hover:text-primary-light{% endif %} transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Listar Projetos</span>
                        </a>
                    </li>
                    {% if user.can_manage_projects %}
                    <li>
                        <a href="{% url 'projetos:projeto_create' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-plus text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Novo Projeto</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </li>
            {% endif %}

            <!-- Contratos -->
            {% if user.can_manage_contracts %}
            <li class="mt-6">
                <h5 class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center">
                    <span class="w-6 h-0.5 bg-gradient-to-r from-primary to-transparent mr-2"></span>
                    Contratos
                </h5>
                <ul class="space-y-1">
                    <li>
                        <a href="{% url 'contratos:contrato_list' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group
                                  {% if 'contrato' in request.resolver_match.url_name %}
                                  bg-primary/10 text-primary-light border-l-4 border-primary
                                  {% else %}
                                  hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30
                                  {% endif %}">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-file-contract {% if 'contrato' in request.resolver_match.url_name %}text-primary-light{% else %}text-gray-400 group-hover:text-primary-light{% endif %} transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Contratos</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'contratos:prestador_list' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-users text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Prestadores</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'contratos:parcela_list' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-money-bill-wave text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Parcelas</span>
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Clientes -->
            {% if user.can_manage_contracts %}
            <li class="mt-6">
                <h5 class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center">
                    <span class="w-6 h-0.5 bg-gradient-to-r from-primary to-transparent mr-2"></span>
                    Clientes
                </h5>
                <ul class="space-y-1">
                    <li>
                        <a href="{% url 'clientes:cliente-list' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group
                                  {% if 'cliente' in request.resolver_match.url_name %}
                                  bg-primary/10 text-primary-light border-l-4 border-primary
                                  {% else %}
                                  hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30
                                  {% endif %}">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-users {% if 'cliente' in request.resolver_match.url_name %}text-primary-light{% else %}text-gray-400 group-hover:text-primary-light{% endif %} transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Listar Clientes</span>
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Financeiro -->
            {% if user.can_view_financial_data %}
            <li class="mt-6">
                <h5 class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center">
                    <span class="w-6 h-0.5 bg-gradient-to-r from-primary to-transparent mr-2"></span>
                    Financeiro
                </h5>
                <ul class="space-y-1">
                    <li>
                        <a href="{% url 'dashboard:analytics_financeiro' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-chart-line text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Analytics</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'pagamentos:payment_history' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-credit-card text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Pagamentos</span>
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

            <!-- Relatórios -->
            {% if user.can_generate_reports %}
            <li class="mt-6">
                <h5 class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center">
                    <span class="w-6 h-0.5 bg-gradient-to-r from-primary to-transparent mr-2"></span>
                    Relatórios
                </h5>
                <ul class="space-y-1">
                    <li>
                        <a href="{% url 'relatorios:relatorio_list' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-file-alt text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Relatórios</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'relatorios:relatorio_custom' %}" 
                           class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 group hover:bg-white/5 hover:border-l-4 hover:border-primary-light/30">
                            <div class="flex items-center justify-center w-8">
                                <i class="fas fa-chart-bar text-gray-400 group-hover:text-primary-light transition-colors duration-200"></i>
                            </div>
                            <span class="ml-3">Relatório Customizado</span>
                        </a>
                    </li>
                </ul>
            </li>
            {% endif %}

        </ul>
    </nav>
    
    <!-- Decoração inferior -->
    <div class="mt-8 px-4">
        <div class="h-px bg-gradient-to-r from-transparent via-primary-light/30 to-transparent"></div>
    </div>
</aside>